<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>サンプルプロジェクト</title>
	<link rel="shortcut icon" href="TemplateData/favicon.ico">
	<script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/blockly_compressed.min.js"></script> <!-- ライブラリを読み込む -->
	<script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/blocks_compressed.min.js"></script> <!-- ライブラリを読み込む -->
	<script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/javascript_compressed.min.js"></script> <!-- ライブラリを読み込む -->
	<script src="https://cdn.jsdelivr.net/npm/blockly@1.0.0/msg/js/ja.min.js"></script> <!-- 日本語化 -->
	<script src="acorn_interpreter.js"></script>
	<script src="block_function.js"></script>
	<script src="myblock.js"></script>
</head>

<body>
	<div class="flex">
		<div class="middle">
			<div id="blocklyDiv" style="width: 650px; height: 640px;"></div> <!-- ワークスペースを用意 -->
			<xml id="toolbox" style="display: none">
				<block type="move_left"></block>
				<block type="move_right"></block>
				<block type="move_forward"></block>
				<block type="move_back"></block>
				<block type="turn_left"></block>
				<block type="turn_right"></block>
				<block type="get_left"></block>
				<block type="get_right"></block>
				<block type="get_forward"></block>
				<block type="get_back"></block>
				<block type="check_point"></block>
				<block type="obstacle"></block>
				<block type="wall"></block>
				<block type="coin"></block>
				<block type="put_obstacle"></block>
				<block type="destroy_obstacle"></block>
				<block type="controls_if"></block>
				<block type="controls_repeat_ext"></block>
				<block type="logic_compare"></block>
				<block type="math_number"></block>
				<block type="math_arithmetic"></block>
				<block type="text"></block>
				<block type="text_print"></block>
			</xml>
		</div>
		<div id="readOnlyParent" class="bottom">
			<div id="blocklyDiv_readOnly" style="width: 650px; height: 640px;"></div>
		</div>
		<canvas class="border border-success" id="unity-canvas"
		style="width: 600px; height: 640px; background: #FFFFFF; position: absolute; left: 655px"></canvas>
		<div id="blocklyDiv_rival" style="position: absolute; left: 1255px; width: 400px; height: 640px;"></div>
	</div>
	<script src="Build/web.loader.js"></script>
	<script>
		var unityInstance = null;
		createUnityInstance(document.querySelector("#unity-canvas"), {
		dataUrl: "Build/web.data",
		frameworkUrl: "Build/web.framework.js",
		codeUrl: "Build/web.wasm",
		streamingAssetsUrl: "StreamingAssets",
		companyName: "DefaultCompany",
		productName: "New Unity Project",
		productVersion: "0.1",
		}).then(x => unityInstance = x);
	</script>
	<script>
		let workspace = Blockly.inject('blocklyDiv', { toolbox: document.getElementById('toolbox') });
		let workspace_readOnly = Blockly.inject('blocklyDiv_readOnly', { readOnly:true });
		let workspace_rival = Blockly.inject('blocklyDiv_rival', { readOnly:true });
		let player_character;
		let data_json;
	</script>
	<style>
		.flex {
			display: flex;
		}
		.top{
			position: absolute;
			z-index: 2;
		}
		.bottom{
			position: absolute;
			z-index: 0;
		}
		.middle{
			position: absolute;
			z-index: 1;
		}
	</style>
</body>

</html>